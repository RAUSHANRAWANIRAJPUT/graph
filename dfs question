#include <bits/stdc++.h>
using namespace std;

void DFS(int node, vector<vector<int>>& adjlist, vector<bool>& visited){
    visited[node] = true;
    cout << node << " ";
    for(auto& x : adjlist[node]){
        if(visited[x] == false){
            DFS(x, adjlist, visited);
        }
    }
}

int main() {
    int V = 4;   // number of vertices (0 to 4)
    vector<pair<int,int>> connection = {
        {1,2},{1,3},{1,4},{1,0},{2,1},{2,3},{3,1},{3,2}
    };
    // 1Ô∏è Adjacency Matrix
    vector<vector<int>> adjMatrix(V+1, vector<int>(V+1, 0));
    for(auto &x : connection){
        int u = x.first;
        int v = x.second;
        adjMatrix[u][v] = 1;
        adjMatrix[v][u] = 1;
    }
    // 2 Adjacency List
    vector<vector<int>> adjlist(V+1);
    for(auto &x : connection){
        int u = x.first;
        int v = x.second;
        adjlist[u].push_back(v);
        adjlist[v].push_back(u);
    }
    vector<bool> visited(V+1, false);   
    DFS(1, adjlist, visited);            
    return 0;
}
